<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Combinations | Probability and Statistics</title>

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        };
    </script>

    <!-- MathJax for LaTeX rendering -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }

        .dark .glass {
            background: rgba(17, 24, 39, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .quiz-option {
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            transform: translateX(8px);
        }

        .quiz-option.correct {
            background-color: #d1fae5;
            border-color: #10b981;
        }

        .quiz-option.incorrect {
            background-color: #fee2e2;
            border-color: #ef4444;
        }

        .dark .quiz-option.correct {
            background-color: #064e3b;
            border-color: #10b981;
        }

        .dark .quiz-option.incorrect {
            background-color: #7f1d1d;
            border-color: #ef4444;
        }

        .pascal-cell {
            transition: all 0.3s ease;
        }

        .pascal-cell:hover {
            transform: scale(1.2);
            background-color: #ddd6fe;
        }

        .dark .pascal-cell:hover {
            background-color: #5b21b6;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 font-sans antialiased">

    <!-- Navigation -->
    <nav class="sticky top-4 z-50 max-w-4xl mx-auto px-4 mb-8 pt-4">
        <div class="glass rounded-2xl shadow-lg p-4 flex justify-between items-center">
            <a href="index.html" class="flex items-center gap-2 font-bold text-lg hover:text-violet-600 transition">
                <span>‚Üê</span> Back to Syllabus
            </a>
            <span class="text-sm text-gray-600 dark:text-gray-400">Unit 1: Basic Background</span>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto px-4 pb-20">

        <!-- Page Title -->
        <div class="mb-12">
            <h1
                class="text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-violet-600 to-purple-600 bg-clip-text text-transparent">
                Combinations
            </h1>
            <p class="text-xl text-gray-600 dark:text-gray-400">
                Selecting items where order doesn't matter
            </p>
        </div>

        <!-- Combinations Definition -->
        <section class="mb-12">
            <h2 class="text-3xl font-bold mb-6 flex items-center gap-3">
                <span class="text-3xl">üß∫</span> Combinations
            </h2>

            <div class="glass p-8 rounded-2xl shadow-lg mb-6">
                <div
                    class="bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/40 dark:to-amber-900/40 p-8 rounded-xl border-l-4 border-orange-500 mb-6">
                    <h3 class="text-xl font-bold mb-4 text-orange-700 dark:text-orange-300">Definition</h3>
                    <p class="text-lg">
                        A <strong>\(k\)-combination</strong> is a subset of \(k\) distinct elements chosen from a set of
                        \(n\) elements.
                        Unlike permutations, <strong>order does NOT matter</strong>.
                    </p>
                    <p class="mt-4 text-xl font-bold">
                        Formula: \(\binom{n}{k} = \frac{n!}{k!(n-k)!}\)
                    </p>
                    <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">Read as "n choose k"</p>
                </div>

                <!-- Interactive Calculator -->
                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-inner text-center">
                    <h4 class="text-lg font-semibold mb-4">Combination Calculator</h4>
                    <div class="flex justify-center items-center gap-4 mb-6">
                        <div class="flex flex-col items-center">
                            <label class="mb-2 font-bold">n (Total items)</label>
                            <input type="number" id="n-input" value="5" min="0" max="20"
                                class="w-16 p-2 border rounded text-center dark:bg-gray-700">
                        </div>
                        <div class="text-2xl font-bold">C</div>
                        <div class="flex flex-col items-center">
                            <label class="mb-2 font-bold">k (Chosen items)</label>
                            <input type="number" id="k-input" value="3" min="0" max="20"
                                class="w-16 p-2 border rounded text-center dark:bg-gray-700">
                        </div>
                        <div class="text-2xl font-bold">=</div>
                        <div class="text-3xl font-bold text-violet-600 dark:text-violet-400" id="calc-result">10</div>
                    </div>
                    <button onclick="calculateCombination()"
                        class="bg-violet-600 hover:bg-violet-700 text-white px-4 py-2 rounded-lg transition">Calculate</button>
                </div>
            </div>
        </section>

        <!-- Pascal's Triangle -->
        <section class="mb-12">
            <h2 class="text-3xl font-bold mb-6 flex items-center gap-3">
                <span class="text-3xl">üî∫</span> Pascal's Triangle
            </h2>

            <div class="glass p-8 rounded-2xl shadow-lg mb-6">
                <p class="mb-6 text-lg">
                    Pascal's Triangle is a geometric arrangement of binomial coefficients. Each number is the sum of the
                    two numbers directly above it.
                </p>

                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-inner overflow-x-auto">
                    <div id="pascal-container" class="flex flex-col items-center gap-2 min-w-[300px]">
                        <!-- Generated by JS -->
                    </div>
                    <div class="mt-6 text-center">
                        <button onclick="addPascalRow()"
                            class="bg-violet-100 text-violet-700 hover:bg-violet-200 px-4 py-2 rounded-lg font-semibold transition">
                            + Add Row
                        </button>
                        <button onclick="resetPascal()"
                            class="ml-2 text-gray-500 hover:text-gray-700 px-4 py-2 rounded-lg transition">
                            Reset
                        </button>
                    </div>
                </div>

                <div class="mt-6 bg-blue-50 dark:bg-blue-900/20 p-6 rounded-xl">
                    <h3 class="font-bold text-blue-700 dark:text-blue-300 mb-2">Key Properties:</h3>
                    <ul class="list-disc ml-5 space-y-2">
                        <li><strong>Recursive Formula:</strong> \(\binom{n}{k} = \binom{n-1}{k-1} + \binom{n-1}{k}\)
                        </li>
                        <li><strong>Row Sums:</strong> The sum of the \(n\)-th row is \(2^n\).</li>
                        <li><strong>Symmetry:</strong> \(\binom{n}{k} = \binom{n}{n-k}\)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Combinations with Repetition (Stars and Bars) -->
        <section class="mb-12">
            <h2 class="text-3xl font-bold mb-6 flex items-center gap-3">
                <span class="text-3xl">ü•ó</span> Combinations with Repetition
            </h2>

            <div class="glass p-8 rounded-2xl shadow-lg mb-6">
                <div class="mb-6">
                    <h3 class="text-xl font-bold mb-2">The "Salad" Problem</h3>
                    <p class="text-lg">
                        We have an unlimited supply of <strong>Tomatoes, Cucumbers, and Onions</strong>.
                        We want to make a salad with <strong>4 ingredients</strong>. How many different salads can we
                        make?
                    </p>
                </div>

                <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-inner mb-6">
                    <h4 class="text-lg font-semibold mb-4 text-center">Stars and Bars Visualization</h4>
                    <p class="text-center text-sm text-gray-500 mb-4">
                        We need to choose 4 items from 3 types. This is equivalent to arranging 4 "stars" (items) and 2
                        "bars" (separators).
                    </p>

                    <div class="flex justify-center items-center gap-2 text-4xl mb-6 flex-wrap">
                        <div class="p-2 bg-red-100 rounded">üçÖ</div>
                        <div class="p-2 bg-red-100 rounded">üçÖ</div>
                        <div class="w-2 h-12 bg-gray-400"></div>
                        <div class="p-2 bg-green-100 rounded">ü•í</div>
                        <div class="w-2 h-12 bg-gray-400"></div>
                        <div class="p-2 bg-purple-100 rounded">üßÖ</div>
                    </div>

                    <div class="text-center">
                        <p class="font-bold text-lg">
                            Total Positions = 4 (items) + 2 (bars) = 6
                        </p>
                        <p class="mt-2">
                            We just need to choose where to put the 2 bars!
                        </p>
                        <p class="mt-4 text-xl font-bold text-violet-600 dark:text-violet-400">
                            \(\binom{4+3-1}{3-1} = \binom{6}{2} = 15\)
                        </p>
                    </div>
                </div>

                <div
                    class="bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/40 dark:to-emerald-900/40 p-8 rounded-xl border-l-4 border-green-500">
                    <h3 class="text-xl font-bold mb-4 text-green-700 dark:text-green-300">General Formula</h3>
                    <p class="text-lg">
                        The number of combinations of size \(k\) from \(n\) types with repetition allowed is:
                    </p>
                    <p class="mt-4 text-xl font-bold text-center">
                        \(\binom{n+k-1}{k} = \binom{n+k-1}{n-1}\)
                    </p>
                </div>
            </div>
        </section>

        <!-- Quiz Section -->
        <section class="mb-12">
            <h2 class="text-3xl font-bold mb-6 flex items-center gap-3">
                <span class="text-3xl">üìù</span> Test Your Understanding
            </h2>

            <div class="glass p-8 rounded-2xl shadow-lg">
                <div class="mb-8">
                    <h3 class="text-lg font-semibold mb-2">Question 1:</h3>
                    <p class="text-xl mb-4">How many ways can you choose a committee of 3 people from a group of 10?</p>
                    <div id="quiz1" class="space-y-3">
                        <button onclick="checkQuiz(1, 'a')"
                            class="quiz-option w-full p-4 text-left border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:border-violet-500">
                            <span class="font-semibold">A)</span> \(\binom{10}{3} = 120\)
                        </button>
                        <button onclick="checkQuiz(1, 'b')"
                            class="quiz-option w-full p-4 text-left border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:border-violet-500">
                            <span class="font-semibold">B)</span> \(P(10, 3) = 720\)
                        </button>
                        <button onclick="checkQuiz(1, 'c')"
                            class="quiz-option w-full p-4 text-left border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:border-violet-500">
                            <span class="font-semibold">C)</span> \(10^3 = 1000\)
                        </button>
                    </div>
                    <div id="quiz1-feedback" class="hidden mt-4 p-4 rounded-lg"></div>
                </div>

                <div>
                    <h3 class="text-lg font-semibold mb-2">Question 2:</h3>
                    <p class="text-xl mb-4">You want to buy 5 donuts from a shop that sells 3 types (Glazed, Chocolate,
                        Jelly). How many different selections can you make?</p>
                    <div id="quiz2" class="space-y-3">
                        <button onclick="checkQuiz(2, 'a')"
                            class="quiz-option w-full p-4 text-left border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:border-violet-500">
                            <span class="font-semibold">A)</span> \(\binom{5}{3} = 10\)
                        </button>
                        <button onclick="checkQuiz(2, 'b')"
                            class="quiz-option w-full p-4 text-left border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:border-violet-500">
                            <span class="font-semibold">B)</span> \(\binom{5+3-1}{3-1} = \binom{7}{2} = 21\)
                        </button>
                        <button onclick="checkQuiz(2, 'c')"
                            class="quiz-option w-full p-4 text-left border-2 border-gray-300 dark:border-gray-600 rounded-lg hover:border-violet-500">
                            <span class="font-semibold">C)</span> \(3^5 = 243\)
                        </button>
                    </div>
                    <div id="quiz2-feedback" class="hidden mt-4 p-4 rounded-lg"></div>
                </div>
            </div>
        </section>

        <!-- Navigation -->
        <div class="flex justify-between items-center mt-12 pt-8 border-t border-gray-200 dark:border-gray-700">
            <a href="tuples.html"
                class="flex items-center gap-2 text-violet-600 hover:text-violet-700 font-semibold transition">
                <span>‚Üê</span> Previous: Tuples
            </a>
            <a href="problems-unit1.html"
                class="flex items-center gap-2 text-violet-600 hover:text-violet-700 font-semibold transition">
                Next: Practice Problems <span>‚Üí</span>
            </a>
        </div>

    </main>

    <script>
        // Combination Calculator Logic
        function factorial(n) {
            if (n === 0 || n === 1) return 1;
            let result = 1;
            for (let i = 2; i <= n; i++) result *= i;
            return result;
        }

        function calculateCombination() {
            const n = parseInt(document.getElementById('n-input').value);
            const k = parseInt(document.getElementById('k-input').value);
            const resultDisplay = document.getElementById('calc-result');

            if (k > n) {
                resultDisplay.innerText = "0";
                return;
            }

            const result = factorial(n) / (factorial(k) * factorial(n - k));
            resultDisplay.innerText = result;
        }

        // Pascal's Triangle Logic
        let pascalRows = [[1], [1, 1], [1, 2, 1], [1, 3, 3, 1]];

        function renderPascal() {
            const container = document.getElementById('pascal-container');
            container.innerHTML = '';

            pascalRows.forEach(row => {
                const rowDiv = document.createElement('div');
                rowDiv.className = 'flex gap-2';

                row.forEach(num => {
                    const cell = document.createElement('div');
                    cell.className = 'pascal-cell w-10 h-10 flex items-center justify-center bg-violet-100 dark:bg-violet-900/40 rounded-full font-bold text-sm cursor-default';
                    cell.innerText = num;
                    rowDiv.appendChild(cell);
                });

                container.appendChild(rowDiv);
            });
        }

        function addPascalRow() {
            const lastRow = pascalRows[pascalRows.length - 1];
            const newRow = [1];

            for (let i = 0; i < lastRow.length - 1; i++) {
                newRow.push(lastRow[i] + lastRow[i + 1]);
            }
            newRow.push(1);

            pascalRows.push(newRow);
            renderPascal();
        }

        function resetPascal() {
            pascalRows = [[1], [1, 1], [1, 2, 1], [1, 3, 3, 1]];
            renderPascal();
        }

        // Initialize Pascal
        renderPascal();

        // Quiz Logic
        function checkQuiz(qNum, answer) {
            const feedback = document.getElementById(`quiz${qNum}-feedback`);
            const correctAnswers = { 1: 'a', 2: 'b' };

            if (answer === correctAnswers[qNum]) {
                feedback.innerHTML = "Correct! " + (qNum === 1 ? "Order doesn't matter, so it's a combination." : "This is a 'Stars and Bars' problem (combinations with repetition).");
                feedback.className = "mt-4 p-4 rounded-lg bg-green-100 text-green-800 font-semibold block";
                MathJax.typesetPromise([feedback]);
            } else {
                feedback.innerHTML = "Incorrect. Try again!";
                feedback.className = "mt-4 p-4 rounded-lg bg-red-100 text-red-800 font-semibold block";
            }
        }
    </script>
</body>

</html>