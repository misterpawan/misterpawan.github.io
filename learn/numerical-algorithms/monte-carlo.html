<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lecture 24: Monte Carlo</title>

    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                macros: {
                    RR: "{\\mathbb{R}}",
                    vb: "{\\mathbf{b}}",
                    ve: "{\\mathbf{e}}",
                    vx: "{\\mathbf{x}}",
                    vA: "{\\mathbf{A}}",
                    mO: "{\\mathcal{O}}",
                    norm: ["\\left\\lVert#1\\right\\rVert", 1]
                }
            }
        };
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        primary: '#f97316',
                    }
                }
            }
        };
    </script>

    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <style>
        .glass {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .dark .glass {
            background: rgba(17, 24, 39, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .code-block {
            font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
            background-color: #1e293b;
            /* slate-800 */
            color: #e2e8f0;
            /* slate-200 */
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-size: 0.9em;
            line-height: 1.5;
            margin-top: 1rem;
            margin-bottom: 1rem;
        }

        .quiz-option:hover {
            background-color: #fff7ed;
            border-color: #f97316;
        }

        .dark .quiz-option:hover {
            background-color: #374151;
            border-color: #f97316;
        }

        .correct-answer {
            background-color: #d1fae5 !important;
            border-color: #10b981 !important;
        }

        .wrong-answer {
            background-color: #fee2e2 !important;
            border-color: #ef4444 !important;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100 font-sans antialiased" data-aos-easing="ease"
    data-aos-duration="400">

    <div class="fixed top-0 left-0 w-full h-1 bg-gray-200 z-50">
        <div id="progress-bar" class="h-full bg-orange-500 w-0 transition-all duration-300"></div>
    </div>

    <nav class="sticky top-4 z-40 max-w-5xl mx-auto px-4 mb-8 pt-4">
        <div class="glass rounded-2xl shadow-lg p-4 flex justify-between items-center">
            <div class="flex items-center gap-2 font-bold text-sm sm:text-base">
                <span class="text-orange-600"></span> Lecture 24
            </div>
            <div class="flex items-center gap-4">
                <div
                    class="bg-green-100 text-green-800 px-3 py-1 rounded-full font-bold text-sm flex items-center gap-1">
                    ðŸ’° <span id="wallet-balance">0</span>
                </div>
            </div>
        </div>
    </nav>

    <main class="max-w-4xl mx-auto px-4 pb-32 space-y-12">

        <header class="text-center py-10 aos-init" data-aos="fade-down">
            <h1
                class="text-3xl md:text-5xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600">
                Monte Carlo Methods
            </h1>
            <p class="text-xl text-gray-600 dark:text-gray-400">Integration, Probability, Randomness</p>
            <p class="text-sm text-gray-500 mt-2">November 19, 2008</p>
        </header>

        <div class="flex items-center gap-4 mb-6">
            <div class="h-px bg-gray-300 flex-1"></div>
            <span class="text-sm font-bold text-gray-400 uppercase tracking-widest">Part 1: Motivation &
                Integration</span>
            <div class="h-px bg-gray-300 flex-1"></div>
        </div>

        <section class="glass p-8 rounded-3xl shadow-sm aos-init" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-orange-600">Why Monte Carlo?</h2>
            <ul class="list-disc list-inside space-y-3 text-lg">
                <li>Central to PageRank (and many other applications in finance, science, informatics, etc.) is that we
                    <strong>randomly process</strong> something.
                </li>
                <li>What we want to know is "on average" what is likely to happen.</li>
                <li>What would happen if we have an <strong>infinite</strong> number of samples?</li>
                <li>Let's take a look at the integral (a discrete limit in a sense).</li>
            </ul>
        </section>

        <section class="glass p-8 rounded-3xl shadow-sm aos-init" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-orange-600">Integration Basics</h2>
            <div class="latex-content space-y-6">
                <p>The integral of a function over a domain:</p>
                <div class="bg-blue-50 dark:bg-gray-800 p-4 rounded-xl text-center">
                    $$ \int_{x\in D} f(x) \,dA_x $$
                </div>

                <p>The size of a domain:</p>
                <div class="bg-blue-50 dark:bg-gray-800 p-4 rounded-xl text-center">
                    $$ A_D = \int_{x\in D} dA_x $$
                </div>

                <p>The <strong>average</strong> of a function over some domain:</p>
                <div class="bg-green-50 dark:bg-green-900/20 p-4 rounded-xl text-center border-l-4 border-green-500">
                    $$ \frac{\int_{x\in D} f(x) dA_x}{A_D} $$
                </div>
            </div>
        </section>

        <section class="glass p-8 rounded-3xl shadow-sm aos-init" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-orange-600">Integration Examples</h2>

            <div class="space-y-8">
                <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-xl">
                    <h3 class="font-bold text-lg mb-2">1. Daily Snowfall (1D)</h3>
                    <ul class="list-disc list-inside text-sm mb-2 text-gray-600 dark:text-gray-400">
                        <li><strong>Domain:</strong> Year (1D time interval)</li>
                        <li><strong>Variable:</strong> Day</li>
                        <li><strong>Function:</strong> Snowfall depending on day</li>
                    </ul>
                    $$ \text{average} = \frac{\int_{day\in year} s(day)d_{day}}{\text{length of year}} $$
                </div>

                <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-xl">
                    <h3 class="font-bold text-lg mb-2">2. Snowfall in Illinois (2D)</h3>
                    <ul class="list-disc list-inside text-sm mb-2 text-gray-600 dark:text-gray-400">
                        <li><strong>Domain:</strong> Illinois (2D surface)</li>
                        <li><strong>Variable:</strong> $(x,y)$ location</li>
                        <li><strong>Function:</strong> Snowfall depending on location</li>
                    </ul>
                    $$ \text{average} = \frac{\int_{location\in Illinois} s(location)d_{location}}{\text{area of
                    illinois}} $$
                </div>

                <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-xl">
                    <h3 class="font-bold text-lg mb-2">3. Snowfall in Illinois Today (3D)</h3>
                    <ul class="list-disc list-inside text-sm mb-2 text-gray-600 dark:text-gray-400">
                        <li><strong>Domain:</strong> Illinois $\times$ Year (3D space-time)</li>
                        <li><strong>Variables:</strong> Location and Day</li>
                        <li><strong>Function:</strong> Snowfall depending on location and day</li>
                    </ul>
                    $$ \text{average} = \frac{\int_{day\in year}\int_{location\in
                    Illinois}s(location,day)d_{location,day}}{\text{area of illinois} \cdot \text{length of year}} $$
                </div>
            </div>
        </section>

        <div class="flex items-center gap-4 mb-6 mt-12">
            <div class="h-px bg-gray-300 flex-1"></div>
            <span class="text-sm font-bold text-gray-400 uppercase tracking-widest">Part 2: Probability &
                Statistics</span>
            <div class="h-px bg-gray-300 flex-1"></div>
        </div>

        <section class="glass p-8 rounded-3xl shadow-sm aos-init" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-orange-600">Discrete Random Variables</h2>
            <ul class="list-disc list-inside mb-4">
                <li>Random variable $x$</li>
                <li>Values: $x_0, x_1, \dots, x_n$</li>
                <li>Probabilities $p_0, p_1,\dots,p_n$ with $\sum_{i=0}^{n}p_i = 1$</li>
            </ul>

            <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-xl">
                <h3 class="font-bold mb-2">Example: Throwing a Die</h3>
                <p>Values: $x_1=1, x_2=2, \dots, x_6=6$</p>
                <p>Probabilities: $p_i = 1/6$</p>
            </div>
        </section>

        <section class="glass p-8 rounded-3xl shadow-sm aos-init" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-orange-600">Expected Value and Variance</h2>

            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h3 class="font-bold text-lg mb-2">Expected Value ($E[x]$)</h3>
                    <p>Average value of the variable:</p>
                    $$ E[x] = \sum_{j=1}^{n}x_j p_j $$
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-2">Variance ($\sigma^2[x]$)</h3>
                    <p>Variation from the average:</p>
                    $$ \sigma^2[x] = E[(x-E[x])^2] = E[x^2] - E[x]^2 $$
                </div>
            </div>

            <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-xl mt-6">
                <h3 class="font-bold mb-2">Die Example Calculations</h3>
                <p><strong>Expected Value:</strong> $E[x] = (1+2+\dots+6)/6 = 3.5$</p>
                <p><strong>Variance:</strong> $\sigma^2[x] = 2.916$</p>
            </div>
        </section>

        <div class="glass p-6 rounded-2xl border-2 border-orange-100 dark:border-gray-700 aos-init" data-aos="zoom-in">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold flex items-center gap-2">ðŸ§  Quick Check <span
                        class="text-xs bg-orange-100 text-orange-600 px-2 py-1 rounded-full">Win $10</span></h3>
            </div>
            <p class="mb-4">If you roll a fair 6-sided die, what is the probability of rolling a 3?</p>
            <div class="grid grid-cols-1 gap-3">
                <button onclick="checkAnswer(this, false)"
                    class="quiz-option p-3 rounded-xl border border-gray-200 dark:border-gray-600 transition text-left">1/2</button>
                <button onclick="checkAnswer(this, true)"
                    class="quiz-option p-3 rounded-xl border border-gray-200 dark:border-gray-600 transition text-left">1/6</button>
                <button onclick="checkAnswer(this, false)"
                    class="quiz-option p-3 rounded-xl border border-gray-200 dark:border-gray-600 transition text-left">1/3</button>
            </div>
        </div>

        <section class="glass p-8 rounded-3xl shadow-sm aos-init" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-orange-600">Estimated $E[x]$</h2>
            <p>To estimate the expected value, choose a set of random values based on the probability and average the
                results:</p>
            $$ E[x] \approx \frac{1}{N} \sum_{j=1}^{N} x_i $$
            <p class="mt-4 font-bold text-blue-600">Bigger $N$ gives better estimates.</p>

            <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-xl mt-4">
                <h3 class="font-bold mb-2">Die Example: Sampling</h3>
                <ul class="list-disc list-inside space-y-2">
                    <li><strong>3 rolls:</strong> $3, 1, 6 \rightarrow E[x] \approx (3+1+6)/3 = 3.33$</li>
                    <li><strong>9 rolls:</strong> $3, 1, 6, 2, 5, 3, 4, 6, 2 \rightarrow E[x] \approx 3.51$</li>
                </ul>
            </div>
        </section>

        <section class="glass p-8 rounded-3xl shadow-sm aos-init" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-orange-600">Law of Large Numbers</h2>
            <p>By taking $N \to \infty$, the error between the estimate and the expected value is statistically zero.
                That is, the estimate will converge to the correct value.</p>

            <div
                class="bg-yellow-50 dark:bg-yellow-900/20 p-6 rounded-xl border-l-4 border-yellow-500 mt-4 text-center">
                $$ P\left(E[x] = \lim_{N\rightarrow\infty} \frac{1}{N} \sum_{i=1}^{N} x_i\right) = 1 $$
            </div>
        </section>

        <section class="glass p-8 rounded-3xl shadow-sm aos-init" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-orange-600">Continuous Random Variable</h2>
            <ul class="list-disc list-inside mb-4">
                <li>Random variable: $x$</li>
                <li>Values: $x \in [a, b]$</li>
                <li>Probability density function $\rho(x)$ with $\int_a^b \rho(x)\,dx = 1$</li>
            </ul>

            <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-xl mb-6">
                <h3 class="font-bold mb-2">Uniformly Distributed</h3>
                <p>$\rho(x)$ is constant.</p>
                <p>$\int_a^b \rho(x)\,dx = 1 \implies \rho(x) = 1/(b-a)$</p>
            </div>

            <h3 class="font-bold text-lg mt-6">Extensions</h3>
            <div class="grid md:grid-cols-2 gap-6 mt-4">
                <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg">
                    <p class="font-bold">Expected Value</p>
                    $$ E[g(x)] = \int_a^b g(x)\rho(x)\,dx $$
                </div>
                <div class="bg-gray-50 dark:bg-gray-800 p-4 rounded-lg">
                    <p class="font-bold">Estimate</p>
                    $$ E[g(x)] \approx \frac{1}{N} \sum_{i=1}^{N} g(x_i) $$
                </div>
            </div>

            <div class="mt-6 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg">
                <h3 class="font-bold">Multidimensional Extension</h3>
                <p>For difficult domains (complex geometries):</p>
                $$ E[g(x)] = \int_{x\in D} g(x)\rho(x)\,dA_x $$
            </div>
        </section>

        <div class="flex items-center gap-4 mb-6 mt-12">
            <div class="h-px bg-gray-300 flex-1"></div>
            <span class="text-sm font-bold text-gray-400 uppercase tracking-widest">Part 3: Monte Carlo
                Integration</span>
            <div class="h-px bg-gray-300 flex-1"></div>
        </div>

        <section class="glass p-8 rounded-3xl shadow-sm aos-init" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-orange-600">Numerical Integration</h2>

            <div class="mb-8">
                <h3 class="font-bold text-lg">Deterministic</h3>
                <ul class="list-disc list-inside mb-4">
                    <li>Split domain into set of fixed segments.</li>
                    <li>Sum function values with size of segments (Riemann!).</li>
                </ul>
                <div class="flex justify-center bg-white dark:bg-gray-800 p-4 rounded-xl">

                </div>
            </div>

            <div>
                <h3 class="font-bold text-lg">Random (Monte Carlo) Algorithm</h3>
                <p>For a random sequence $x_1, \dots, x_n$:</p>
                $$ \int_0^1 f(x)\,dx \approx \frac{1}{n} \sum_{i=1}^{n} f(x_i) $$

                <div class="code-block">
n = 100;
x = rand(n, 1);
a = f(x);
s = sum(a) / n;
</div>
            </div>
        </section>

        <section class="glass p-8 rounded-3xl shadow-sm aos-init" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-orange-600">Example: Computing $\pi$</h2>
            <p>Use the unit square $[0, 1]^2$ with a quarter-circle.</p>

            $$ f(x,y) = \begin{cases} 1 & (x,y)\in \text{circle} \\ 0 & \text{else} \end{cases} $$
            $$ A_{\text{quarter-circle}} = \int_0^1\int_0^1 f(x,y)\,dxdy = \frac{\pi}{4} $$

            <div class="grid md:grid-cols-2 gap-8 my-6">
                <div class="flex justify-center bg-white dark:bg-gray-800 p-4 rounded-xl">

                </div>
                <div class="flex justify-center bg-white dark:bg-gray-800 p-4 rounded-xl">

                </div>
            </div>

            <p>We estimate the area by randomly evaluating $f(x,y)$:</p>
            $$ A_{\text{quarter-circle}} \approx \frac{1}{N}\sum_{i=1}^{N}f(x_i,y_i) $$
            $$ \pi \approx \frac{4}{N} \sum_{i=1}^{N}f(x_i,y_i) $$

            <div class="code-block mt-4">
input N
call rand in 2d
for i = 1:N
    sum = sum + f(x_i, y_i)
end
sum = 4 * sum / N
</div>
        </section>

        <section class="glass p-8 rounded-3xl shadow-sm aos-init" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-orange-600">Convergence & Error</h2>
            <p>The expected value of the <strong>error</strong> is $\mathcal{O}\left(\frac{1}{\sqrt{N}}\right)$.</p>

            <div class="bg-blue-50 dark:bg-blue-900/20 p-6 rounded-xl mt-4">
                <h3 class="font-bold mb-2">Key Takeaways</h3>
                <ul class="list-disc list-inside">
                    <li>Convergence does <strong>not</strong> depend on dimension.</li>
                    <li>Deterministic integration is very hard in higher dimensions.</li>
                    <li>Deterministic integration is very hard for complicated domains.</li>
                </ul>
            </div>
        </section>

        <section class="glass p-8 rounded-3xl shadow-sm aos-init" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-orange-600">Central Limit Theorem (CLT)</h2>
            <div class="bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border-l-4 border-yellow-500 mb-6">
                <p>The distribution of an average is close to being normal, even when the distribution from which the
                    average is computed is not normal.</p>
            </div>

            <ul class="list-disc list-inside space-y-2">
                <li>Let $x_1, \dots, x_n$ be independent random variables from any PDF.</li>
                <li>Consider the sum $S_n = x_1 + \dots + x_n$.</li>
                <li>The expected value is $n\mu$ and standard deviation is $\sigma \sqrt{n}$.</li>
                <li>The term $\frac{S_n - n\mu}{\sigma\sqrt{n}}$ approaches the normal distribution.</li>
                <li><strong>Implication:</strong> The sample mean has an error of $\sigma/\sqrt{n}$.</li>
            </ul>
        </section>

        <section class="glass p-8 rounded-3xl shadow-sm aos-init" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-orange-600">Now What? Minimizing Noise</h2>
            <p>How does one minimize the noise in this random process?</p>
            <ul class="list-disc list-inside mt-4 space-y-2">
                <li><strong>Pick better samples!</strong></li>
                <li>Use more samples where the impact is high: where $f$ is large.</li>
            </ul>
            $$ I \approx \frac{1}{N} \sum_{i=1}^{N} \frac{f(x)}{p(x)} $$
            <p>So pick a distribution similar to $f$:</p>
            $$ p_{optimal} \propto f(x) $$
        </section>

        <section class="glass p-8 rounded-3xl shadow-sm aos-init" data-aos="fade-up">
            <h2 class="text-2xl font-bold mb-6 text-orange-600">Implementation Warning</h2>

            <div class="grid md:grid-cols-2 gap-6">
                <div class="code-block">
// C Output
... estimate of pi is 3.14155
</div>
                <div class="code-block">
% MATLAB Output
... estimate of pi is 3.141597
</div>
            </div>

            <div
                class="bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border-l-4 border-red-500 mt-4 text-center font-bold text-red-600 dark:text-red-300">
                Be careful with your random number generator.
            </div>
        </section>

        <div class="glass p-6 rounded-2xl border-2 border-orange-100 dark:border-gray-700 aos-init" data-aos="zoom-in">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold flex items-center gap-2">ðŸ§  Final Challenge <span
                        class="text-xs bg-orange-100 text-orange-600 px-2 py-1 rounded-full">Win $20</span></h3>
            </div>
            <p class="mb-4">How does the error of Monte Carlo integration scale with the number of samples $N$?</p>
            <div class="grid grid-cols-1 gap-3">
                <button onclick="checkAnswer(this, false)"
                    class="quiz-option p-3 rounded-xl border border-gray-200 dark:border-gray-600 transition text-left">$\mathcal{O}(1/N)$</button>
                <button onclick="checkAnswer(this, true)"
                    class="quiz-option p-3 rounded-xl border border-gray-200 dark:border-gray-600 transition text-left">$\mathcal{O}(1/\sqrt{N})$</button>
                <button onclick="checkAnswer(this, false)"
                    class="quiz-option p-3 rounded-xl border border-gray-200 dark:border-gray-600 transition text-left">$\mathcal{O}(N)$</button>
            </div>
        </div>

    </main>

    <footer class="text-center py-8 text-gray-500 text-sm">
        <p> 2025 Course Materials. </p>
    </footer>

    <script>
        AOS.init();

        // Scroll Progress Bar
        window.onscroll = function () {
            let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            let scrolled = (winScroll / height) * 100;
            document.getElementById("progress-bar").style.width = scrolled + "%";
        };

        // Wallet Logic
        let wallet = 0;
        function updateWallet(amount) {
            wallet += amount;
            const el = document.getElementById('wallet-balance');
            el.innerText = wallet;
            el.parentElement.classList.add('scale-110');
            setTimeout(() => el.parentElement.classList.remove('scale-110'), 200);
        }

        // Quiz Logic
        function checkAnswer(btn, isCorrect) {
            const parent = btn.parentElement;
            const buttons = parent.querySelectorAll('button');
            buttons.forEach(b => b.disabled = true);

            if (isCorrect) {
                btn.classList.add('correct-answer');
                const rewardSpan = parent.parentElement.querySelector('span');
                const reward = rewardSpan && rewardSpan.innerText.includes('$20') ? 20 : 10;
                updateWallet(reward);
                createConfetti(btn);
            } else {
                btn.classList.add('wrong-answer');
                buttons.forEach(b => {
                    if (b.onclick.toString().includes('true')) b.classList.add('correct-answer');
                });
            }
        }

        function createConfetti(element) {
            const rect = element.getBoundingClientRect();
            for (let i = 0; i < 20; i++) {
                const el = document.createElement('div');
                el.innerText = 'ðŸŽ‰';
                el.style.position = 'fixed';
                el.style.left = rect.left + rect.width / 2 + 'px';
                el.style.top = rect.top + 'px';
                el.style.fontSize = '20px';
                el.style.pointerEvents = 'none';
                el.style.transition = 'all 1s ease-out';
                document.body.appendChild(el);

                setTimeout(() => {
                    el.style.transform = `translate(${Math.random() * 100 - 50}px, -${Math.random() * 100 + 50}px) rotate(${Math.random() * 360}deg)`;
                    el.style.opacity = '0';
                }, 10);
                setTimeout(() => el.remove(), 1000);
            }
        }
    </script>
</body>

</html>